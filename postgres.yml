# Use root/example as user/password credentials

# to stop this yaml - docker compose -f postgres.yml stop 
# to remove this yaml - docker compose -f postgres.yml down 
# to start this yaml - docker compose -f postgres.yml up -d

######
# pull the image of postgres: "docker pull postgres:latest"

######
# use an external volume - created by "docker volume create postgres-vol2"
volumes:
  postgres-vol2:
    name: postgres-vol2
    external: true


services:

  db:
    image: postgres
    restart: on-failure
    shm_size: 128mb
    container_name: postgres_container  # string that specifies a custom container name, rather than a name generated by default.
    volumes:
      - postgres-vol2:/var/lib/postgresql/data 
    ports:
      - 5432:5432
    environment:
      POSTGRES_PASSWORD: test
      POSTGRES_USER: postgres
      POSTGRES_DB: mydb
  



